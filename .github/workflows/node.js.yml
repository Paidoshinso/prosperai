# Workflow para CI com Node.js 

name: Node.js CI

on:
  push:
    branches: ["main"]
  pull_request:
    branches: ["main"]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: ["18.x", "20.x", "22.x"]  # VersÃµes do Node.js a testar

    steps:
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # âž¤ Etapa 1: Checkout do repositÃ³rio
      - name: ðŸ“¦ Checkout do cÃ³digo
        uses: actions/checkout@v4

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # âž¤ Etapa 2: Configurar Node.js e cache
      - name: ðŸ§± Configurar Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}
          cache: 'npm'

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # âž¤ Etapa 3: Instalar dependÃªncias
      - name: ðŸ”§ Instalar dependÃªncias (npm ci)
        run: npm ci

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # âž¤ Etapa 4: Rodar testes individualmente
      - name: âœ… Rodar Navigation.test.js
        run: npx jest Navigation.test.js --verbose

      - name: âœ… Rodar api.test.js
        run: npx jest api.test.js --verbose
